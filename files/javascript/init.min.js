var savedPath=window.location.pathname;function postSecure(e){null!==navigator.serviceWorker&&null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage(e)}function create_UUID(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var o=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?o:3&o|8).toString(16)})}function setSessionCookie(e,t){document.cookie=e+"="+t+";;path=/"}function getCookie(e){for(var t=e+"=",o=document.cookie.split(";"),a=0;a<o.length;a++){for(var n=o[a];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return null}function setCookie(e,t,o){var a=new Date;a.setTime(a.getTime()+24*o*60*60*1e3);var n="expires="+a.toUTCString();document.cookie=e+"="+t+";"+n+";path=/"}null===getCookie("sessionID")&&(setSessionCookie("sessionID",create_UUID()),console.log("%c Successfully set session cookie ","color: #4CAF50; background-color: green;")),null===getCookie("userID")&&(setCookie("userID",create_UUID(),30),console.log("%c Successfully set persistent cookie ","color: #4CAF50; background-color: green;"));try{parent&&parent.WebPlayer||top==self||(top.location.replace(document.location),alert("For security reasons, framing is not allowed; click OK to remove the frames."))}catch(e){try{document.body.innerHTML="iframe check failed--webpage contents destroyed",document.head.innerHTML=""}catch(e){window.open("about:blank","_self")}}var deferredPrompt={prompt:function(){}},a1=!1;function installPWA(){window.addEventListener("appinstalled",e=>{postSecure({action:"pwaStatus",status:"pwa-install-success"})}),postSecure({action:"pwaStatus",status:"pwa-install-prompt"}),deferredPrompt.prompt(),document.body.removeChild(document.getElementById("installPrompt")),deferredPrompt.userChoice.then(e=>{"accepted"===e.outcome?(postSecure({action:"pwaStatus",status:"pwa-install-accept"}),window.matchMedia("(display-mode: standalone)").matches?(postSecure({action:"pwaStatus",status:"pwa-after-install-launch"}),postSecure({action:"pwaStatus",status:"pwa-launch"}),window.location.pathname="/pwa"):window.matchMedia("(display-mode: standalone)").addListener(function(e){e.matches&&!a1&&(postSecure({action:"pwaStatus",status:"pwa-after-install-launch"}),postSecure({action:"pwaStatus",status:"pwa-launch"}),window.location.pathname="/pwa",a1=!0)})):postSecure({action:"pwaStatus",status:"pwa-install-reject"}),deferredPrompt=null}),postSecure({action:"cachePwa"})}window.matchMedia("(display-mode: standalone)").matches&&postSecure({action:"pwaStatus",status:"pwa-launch"}),window.addEventListener("beforeinstallprompt",e=>{postSecure({action:"pwaStatus",status:"pwa-install-event-fired"}),e.preventDefault(),deferredPrompt=e;let t=document.createElement("a");t.onclick=installPWA,t.id="installPrompt",t.innerHTML="Install app";["/pwa","/pwa.html"].includes(window.location.pathname)||document.body.appendChild(t)});var getQueryString=function(e,t=window.location.href){var o=t||window.location.href,a=new RegExp("[?&]"+e+"=([^&#]*)","i").exec(o);return a?a[1]:null};"/pwa"!==window.location.pathname&&"/pwa.html"!==window.location.pathname||(document.getElementById("myProfile").href="javascript:void(0)",document.getElementById("myProfile").addEventListener("click",function(){openPwaUrl("https://github.com/smileycreations15")}),document.getElementById("openSource").href="javascript:void(0)",document.getElementById("openSource").addEventListener("click",function(){openPwaUrl("https://github.com/smileycreations15/smileycreations15.github.io")})),dialogBox=function(e="top-left",t="plain",o,a=!0){let n=document.createElement("div");n.className="notify "+e+" do-show font-notify",n.dataset.notificationStatus=t,n.innerHTML=o;["success","notice","error","warning"].includes(t)&&!1!==a&&(n.style.color="black"),document.body.appendChild(n)};
