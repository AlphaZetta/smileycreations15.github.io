var savedPath=window.location.pathname;function postSecure(e){null!==navigator.serviceWorker&&null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage(e)}function create_UUID(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var o=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?o:3&o|8).toString(16)})}function setSessionCookie(e,t){document.cookie=e+"="+t+";;path=/"}function getCookie(e){for(var t=e+"=",o=document.cookie.split(";"),n=0;n<o.length;n++){for(var r=o[n];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return null}function setCookie(e,t,o){var n=new Date;n.setTime(n.getTime()+24*o*60*60*1e3);var r="expires="+n.toUTCString();document.cookie=e+"="+t+";"+r+";path=/"}null===getCookie("sessionID")&&(setSessionCookie("sessionID",create_UUID()),console.log("%c Successfully set session cookie ","color: #4CAF50; background-color: green;")),null===getCookie("userID")&&(setCookie("userID",create_UUID(),30),console.log("%c Successfully set persistent cookie ","color: #4CAF50; background-color: green;"));try{parent&&parent.WebPlayer||top==self||(top.location.replace(document.location),alert("For security reasons, framing is not allowed; click OK to remove the frames."))}catch(e){try{document.body.innerHTML="iframe check failed--webpage contents destroyed",document.head.innerHTML=""}catch(e){window.open("about:blank","_self")}}var deferredPrompt={prompt:function(){}};function installPWA(){postSecure({action:"pwaStatus",status:"pwa-install-prompt"}),deferredPrompt.prompt(),document.body.removeChild(document.getElementById("installPrompt")),document.body.removeChild(document.getElementById("buttonStyle")),deferredPrompt.userChoice.then(e=>{"accepted"===e.outcome?postSecure({action:"pwaStatus",status:"pwa-install-accept"}):postSecure({action:"pwaStatus",status:"pwa-install-reject"}),deferredPrompt=null}),postSecure({action:"cachePwa"})}window.addEventListener("beforeinstallprompt",e=>{postSecure({action:"pwaStatus",status:"pwa-install-event-fired"}),e.preventDefault(),deferredPrompt=e;let t=document.createElement("style");t.id="buttonStyle",t.innerHTML='#installPrompt { bottom: 50px; right: 100px;background: #FFF;position: fixed; z-index: 99; color: #333; padding: 8px; font-size: 12px; font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif; border: 1px solid #333; border-radius: 5px; line-height: 14px; cursor: pointer; } @media screen and (max-width: 42em) {#installPrompt { bottom: 15px; right: 25px; }}',document.body.appendChild(t);let o=document.createElement("a");o.onclick=installPWA,o.id="installPrompt",o.innerHTML="Install app";["/pwa","/pwa.html"].includes(window.location.pathname)||document.body.appendChild(o)});var getQueryString=function(e,t=window.location.href){var o=t||window.location.href,n=new RegExp("[?&]"+e+"=([^&#]*)","i").exec(o);return n?n[1]:null};"/pwa"!==window.location.pathname&&"/pwa.html"!==window.location.pathname||(document.getElementById("myProfile").style.display="none",document.getElementById("pwaProfile").style.display=""),dialogBox=function(e="top-left",t="plain",o,n=!0){let r=document.createElement("div");r.className="notify "+e+" do-show font-notify",r.dataset.notificationStatus=t,r.innerHTML=o;["success","notice","error","warning"].includes(t)&&!1!==n&&(r.style.color="black"),document.body.appendChild(r)};
