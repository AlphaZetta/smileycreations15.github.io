!function(){try{if(!(parent&&parent.WebPlayer||top==self))return top.location.replace(document.location),alert("For security reasons, framing is not allowed; click OK to remove the frames."),document.body.innerHTML="iframe check failed.",void(document.head.innerHTML="")}catch(e){try{return document.body.innerHTML="iframe check failed.",document.head.innerHTML="",void window.open("about:blank","_self")}catch(e){return void window.open("about:blank","_self")}}var e;window.location.pathname;function t(e){null!==navigator.serviceWorker&&null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage(e)}e={instanceCount:0},window.smileycreations15_api=function(){e.instanceCount+=1;var t={},n={createSoundElement:function(e){var t=document.createElement("audio");if(!Array.isArray(e))throw new TypeError("Expected array.");for(var n=0;n!==e.length;n++){if("object"!=typeof e[n]||"string"!=typeof e[n].url||"string"!=typeof e[n].type)throw new Error("Filename or type is not valid or missing.");var o=document.createElement("source");o.src=e[n].url,o.type=e[n].type,t.appendChild(o)}return t},dialogBox:function(e="top-left",t="plain",n,o=!0){let a=document.createElement("div");a.className="notify "+e+" do-show font-notify",a.dataset.notificationStatus=t,a.innerHTML=n,["success","notice","error","warning"].includes(t)&&!1!==o&&(a.style.color="black"),document.body.appendChild(a)}};return null!==document.getElementById("overlay")&&document.body.removeChild(document.getElementById("overlay")),n.showLoaderOverlay=function(e,t=null,n=!1){if(null!==document.getElementById(e))throw new Error("The element already exists.");let o=document.createElement("div"),a="center";!0===n&&(a="overlay"),o.className="overlay",o.id=e,o.style.display="none",o.innerHTML=null==t?'<div class="text-'+a+'"></div><div class="progress-slider"><div class="line"></div><div class="progress-subline inc"></div><div class="progress-subline dec"></div></div>':'<div class="text-overlay">'+t+'</div><div class="progress-slider"><div class="line"></div><div class="progress-subline inc"></div><div class="progress-subline dec"></div></div>',document.body.appendChild(o);var i={element:document.getElementById(e),show:function(){if(null===document.getElementById(e))throw new Error("The element could not be found, and may be removed from the DOM.");document.getElementById(e).style.display="block"},hide:function(){if(null===document.getElementById(e))throw new Error("The element could not be found, and may be removed from the DOM.");document.getElementById(e).style.display="none"},remove:function(){if(null===document.getElementById(e))throw new Error("The element could not be found, and may be removed from the DOM.");document.body.removeChild(document.getElementById(e))}};return i[Symbol.toStringTag]="LoaderOverlay",Object.create(i)},n[Symbol.toStringTag]="smileycreations15",function(){var e,t=class{constructor(e="smileycreations15-store",t="main"){this.storeName=t,this._dbp=new Promise((n,o)=>{const a=indexedDB.open(e,1);a.onerror=(()=>o(a.error)),a.onsuccess=(()=>n(a.result)),a.onupgradeneeded=(()=>{a.result.createObjectStore(t)})})}_withIDBStore(e,t){return this._dbp.then(n=>new Promise((o,a)=>{const i=n.transaction(this.storeName,e);i.oncomplete=(()=>o()),i.onabort=i.onerror=(()=>a(i.error)),t(i.objectStore(this.storeName))}))}};let o=function(){return e||(e=new t),e};var a={Store:t,get:function(e,t=o()){let n;return t._withIDBStore("readonly",t=>{n=t.get(e)}).then(()=>n.result)},set:function(e,t,n=o()){return n._withIDBStore("readwrite",n=>{n.put(t,e)})},del:function(e,t=o()){return t._withIDBStore("readwrite",t=>{t.delete(e)})},clear:function(e=o()){return e._withIDBStore("readwrite",e=>{e.clear()})},keys:function(e=o()){const t=[];return e._withIDBStore("readonly",e=>{(e.openKeyCursor||e.openCursor).call(e).onsuccess=function(){this.result&&(t.push(this.result.key),this.result.continue())}}).then(()=>t)}};n.database=a}(),n.encoding={},n.encoding.encode=function(e,t=36){for(var n="",o=e.length,a=0;a<o;a++)n+=e.charCodeAt(a).toString(t);return n},n.encoding.decode=function(e,t=36){for(var n="",o=e.length,a=0;a<o;){var i=e.slice(a,a+=2);n+=String.fromCharCode(parseInt(i,t))}return n},n.tooltip={},n.tooltip.show=function(){document.getElementById("loading-side-tooltip").style.display=""},n.tooltip.hide=function(){document.getElementById("loading-side-tooltip").style.display="none"},n.tooltip.setHtml=function(e){document.getElementById("loading-side-tooltip").innerHTML=e},n.randomId=function(e,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"){for(var n="",o=t,a=o.length,i=0;i<e;i++)n+=o.charAt(Math.floor(Math.random()*a));return n},n.setDraggable=function(e){var t,n,o,a,i=e,r=e,l=!1,s=0,d=0;function c(e){"touchstart"===e.type?(o=e.touches[0].clientX-s,a=e.touches[0].clientY-d):(o=e.clientX-s,a=e.clientY-d),e.target===i&&(l=!0)}function u(e){o=t,a=n,l=!1}function m(e){var r,c;l&&(e.preventDefault(),"touchmove"===e.type?(t=e.touches[0].clientX-o,n=e.touches[0].clientY-a):(t=e.clientX-o,n=e.clientY-a),s=t,d=n,r=t,c=n,i.style.transform="translate3d("+r+"px, "+c+"px, 0)")}r.addEventListener("touchstart",c,!1),r.addEventListener("touchend",u,!1),r.addEventListener("touchmove",m,!1),r.addEventListener("mousedown",c,!1),r.addEventListener("mouseup",u,!1),r.addEventListener("mousemove",m,!1)},n.objectId=function(){return t.id},n.scroll={},n.scroll.disable=function(){document.body.style.overflow="hidden"},n.scroll.enable=function(){document.body.style.overflow=""},n.modal=function(e){const t='input:not([disabled]):not([tabindex="-1"]), area:not([tabindex="-1"]), div:not([tabindex="-1"]), button:not([tabindex="-1"]),[tabindex]:not([tabindex="-1"]):not([tabindex=""]), textarea:not([tabindex="-1"])';var o=document.createElement("div");o.className="grey-overlay";var a=n.randomId(30);return o.innerHTML='<div class="modal" id="'+a+'-modal">'+e+"</div>",o.id=a,document.body.appendChild(o),o=document.getElementById(a+"-modal"),null!==document.getElementById(a+"-modal").querySelector(t)&&document.getElementById(a+"-modal").querySelector(t).focus(),document.getElementById(a+"-modal").addEventListener("transitionend",function(e){null!==document.getElementById(a+"-modal").querySelector(t)&&document.getElementById(a+"-modal").querySelector(t).focus()}),{element:document.getElementById(a),modal:document.getElementById(a+"-modal")}},n.deprecated={},n.deprecated.setDraggable=function(e,t){var n=0,o=0,a=0,i=0;function r(e){(e=e||window.event).preventDefault(),a=e.clientX,i=e.clientY,document.onmouseup=s,document.onmousemove=l}function l(t){(t=t||window.event).preventDefault(),n=a-t.clientX,o=i-t.clientY,a=t.clientX,i=t.clientY,e.style.top=e.offsetTop-o+"px",e.style.left=e.offsetLeft-n+"px"}function s(){document.onmouseup=null,document.onmousemove=null}t?t.onmousedown=r:e.onmousedown=r},t.id=n.randomId(15),Object.create(n)},window.smileycreations15=smileycreations15_api();var n={prompt:()=>{}},o={remove:()=>{}},a=!1;function i(){t({action:"pwaStatus",status:"pwa-install-prompt"}),document.body.removeChild(document.getElementById("installPrompt")),(o=smileycreations15.showLoaderOverlay("ui-install","Please wait...")).show(),n.prompt(),n.userChoice.then(e=>{o.remove(),"accepted"===e.outcome?((o=smileycreations15.showLoaderOverlay("ui-install","Installation in progress...<br><span style='font-size:20px'>Please do not close the tab.</span>")).show(),window.addEventListener("appinstalled",e=>{t({action:"pwaStatus",status:"pwa-install-success"}),o.remove(),smileycreations15.dialogBox("top-left","success","App installed successfully")}),t({action:"pwaStatus",status:"pwa-install-accept"}),window.matchMedia("(display-mode: standalone)").matches?(t({action:"pwaStatus",status:"pwa-after-install-launch"}),t({action:"pwaStatus",status:"pwa-launch"}),smileycreations15.database.set("pwaNotify",!0),window.location.pathname="/pwa"):window.matchMedia("(display-mode: standalone)").addListener(function(e){e.matches&&!a&&(t({action:"pwaStatus",status:"pwa-after-install-launch"}),t({action:"pwaStatus",status:"pwa-launch"}),smileycreations15.database.set("pwaNotify",!0),window.location.pathname="/pwa",a=!0)})):t({action:"pwaStatus",status:"pwa-install-reject"}),n=null}),t({action:"cachePwa"})}window.matchMedia("(display-mode: standalone)").matches&&("/pwa"===window.location.pathname?t({action:"pwaStatus",status:"pwa-launch"}):t({action:"pwaStatus",status:"pwa-url-launch",url:window.location.pathname})),window.addEventListener("beforeinstallprompt",e=>{t({action:"pwaStatus",status:"pwa-install-event-fired"}),e.preventDefault(),n=e;let o=document.createElement("a");o.onclick=i,o.id="installPrompt",o.innerHTML="Install app";["/pwa","/pwa.html"].includes(window.location.pathname)||document.body.appendChild(o)});"/pwa"!==window.location.pathname&&"/pwa.html"!==window.location.pathname||(document.getElementById("myProfile").href="javascript:void(0)",document.getElementById("myProfile").addEventListener("click",function(){openPwaUrl("https://github.com/smileycreations15")}),document.getElementById("openSource").href="javascript:void(0)",document.getElementById("openSource").addEventListener("click",function(){openPwaUrl("https://github.com/smileycreations15/smileycreations15.github.io")})),async function(){"/pwa"===window.location.pathname&&!0===await smileycreations15.database.get("pwaNotify")&&(smileycreations15.createSoundElement([{type:"audio/mp3",url:"/files/sounds/notify-notice.mp3"}]).play(),smileycreations15.database.set("pwaNotify",!1),smileycreations15.dialogBox("top-left","success","App installed successfully"))}()}();
