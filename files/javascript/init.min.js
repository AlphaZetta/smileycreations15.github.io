let savedPath=window.location.pathname,init123=0;function create_UUID(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var t=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==o?t:3&t|8).toString(16)})}function setSessionCookie(e,o){document.cookie=e+"="+o+";;path=/"}function getCookie(e){for(var o=e+"=",t=document.cookie.split(";"),n=0;n<t.length;n++){for(var r=t[n];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(o))return r.substring(o.length,r.length)}return null}function setCookie(e,o,t){var n=new Date;n.setTime(n.getTime()+24*t*60*60*1e3);var r="expires="+n.toUTCString();document.cookie=e+"="+o+";"+r+";path=/"}null===getCookie("sessionID")&&(setSessionCookie("sessionID",create_UUID()),console.log("%c Successfully set session cookie ","color: #4CAF50; background-color: green;")),null===getCookie("userID")&&(setCookie("userID",create_UUID(),30),console.log("%c Successfully set persistent cookie ","color: #4CAF50; background-color: green;"));try{parent&&parent.WebPlayer||top==self||(top.location.replace(document.location),alert("For security reasons, framing is not allowed; click OK to remove the frames."))}catch(e){try{document.body.innerHTML="iframe check failed--webpage contents destroyed",document.head.innerHTML=""}catch(e){window.open("about:blank","_self")}}var deferredPrompt={prompt:function(){}};function installPWA(){deferredPrompt.prompt(),document.body.removeChild(document.getElementById("installPrompt")),document.body.removeChild(document.getElementById("buttonStyle")),null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"cachePwa"})}window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),deferredPrompt=e;let o=document.createElement("style");o.id="buttonStyle",o.innerHTML='#installPrompt { bottom: 15px; right: 25px;background: #FFF;position: fixed; z-index: 99; color: #333; padding: 8px; font-size: 12px; font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif; border: 1px solid #333; border-radius: 5px; line-height: 14px; cursor: pointer; } @media screen and (max-width:64em) {#installPrompt { bottom: 50px; right: 100px; }}',document.body.appendChild(o);let t=document.createElement("a");t.onclick=installPWA,t.id="installPrompt",t.innerHTML="Install app";["/pwa","/pwa.html"].includes(window.location.pathname)?dialogBox("top-left","error","A unexpected event is triggered. Please reinstall the app."):document.body.appendChild(t)}),"serviceWorker"in navigator&&(navigator.serviceWorker.controller?console.log("[PWA Builder] active service worker found, no need to register"):navigator.serviceWorker.register("service-worker.js",{scope:"./"}).then(function(e){console.log("[PWA Builder] Service worker has been registered for scope: "+e.scope)}));var getQueryString=function(e,o=window.location.href){var t=o||window.location.href,n=new RegExp("[?&]"+e+"=([^&#]*)","i").exec(t);return n?n[1]:null};"/pwa"!==window.location.pathname&&"/pwa.html"!==window.location.pathname||(document.getElementById("myProfile").style.display="none",document.getElementById("pwaProfile").style.display=""),dialogBox=function(e="top-left",o="plain",t,n=!0){let r=document.createElement("div");r.className="notify "+e+" do-show font-notify",r.dataset.notificationStatus=o,r.innerHTML=t;["success","notice","error","warning"].includes(o)&&!1!==n&&(r.style.color="black"),document.body.appendChild(r)};
