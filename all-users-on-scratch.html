<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>All users on scratch!</title>
  </head>
  <body style="margin:0;overflow:hidden"><h2></h2>
    <script type="text/javascript">
      var users = []
      var worker = new Worker(URL.createObjectURL(new Blob([`var checked = []
var errs = []
var checked = []
function fetchUrl(username) {
    if (checked.includes(username)) return
    checked.push(username)
    var e = checked.length - 1
    postMessage(username)
    setTimeout(()=>{    fetch("https://bypasscors.herokuapp.com/api/?url=https://api.scratch.mit.edu/users/" + username + "/followers").then(e => e.json()).then(e => {
        e.forEach(e => {
            fetchUrl(e.username)
        })
    }).catch((e) => {
        errs.push(e)
        delete checked[e]
    })},100)
}
fetchUrl("smileycreations15")`])))
  worker.onmessage = (e)=>{
    var textarea = document.querySelector("textarea")
        var h2 = document.querySelector("h2").innerHTML = users.length

    var data = e.data
    users.push(e.data)
    textarea.innerHTML = `${users.slice(users.length - 100,users.length - 1).join("\n")}`
    textarea.scrollTo(0,1000)
  }
    </script>
    <textarea disabled style="height:100vh;width:100vw;resize:none;"></textarea>
  </body>
</html>
