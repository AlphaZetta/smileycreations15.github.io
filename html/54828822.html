<!DOCTYPE html><html><head><title>Inputs are not saved on Gridview row updating event</title></head><link href='style.css' rel='stylesheet' ><link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css'><body><h2><a href='//stackoverflow.com/a/54828822'>Inputs are not saved on Gridview row updating event</a></h2><p class='feedback'> <span title='double-beep'><span class='fa fa-check' style='color:green'></span></span></p><br /><pre style='border:1px solid black;border-radius:5px'><code><p>
                
                    
                        
                            
                        
                    
                    
                        
                            &lt;%# Container.DataItemIndex + 1 %>
                        
                    
                    
                        
                            '
                                value='&lt;%# Eval("DEPOTID") %>'>
                        
                    </p>

<pre><code>                &lt;asp:TemplateField HeaderText="HOLIDAY"&gt;
                    &lt;ItemTemplate&gt;
                        &lt;asp:TextBox ID="txtHoliday" runat="server" Width="80px"&gt;&lt;/asp:TextBox&gt;
                    &lt;/ItemTemplate&gt;
                &lt;/asp:TemplateField&gt;

                &lt;asp:TemplateField HeaderText="TOTAL PAID DAYS"&gt;
                    &lt;ItemTemplate&gt;
                        &lt;asp:TextBox ID="txtPaidDays" runat="server" Width="80px"&gt;&lt;/asp:TextBox&gt;
                    &lt;/ItemTemplate&gt;
                &lt;/asp:TemplateField&gt;

                &lt;asp:TemplateField HeaderText="TOTAL WORKING"&gt;
                    &lt;ItemTemplate&gt;
                        &lt;asp:TextBox ID="txtTotalWorking" runat="server" Width="80px"&gt;&lt;/asp:TextBox&gt;
                    &lt;/ItemTemplate&gt;
                &lt;/asp:TemplateField&gt;

                &lt;asp:TemplateField HeaderText="SLAMOUNT"&gt;
                    &lt;ItemTemplate&gt;
                        &lt;asp:TextBox ID="txtSlamount" runat="server" Width="80px"&gt;&lt;/asp:TextBox&gt;
                    &lt;/ItemTemplate&gt;
                &lt;/asp:TemplateField&gt;

                &lt;asp:TemplateField HeaderText="DOCUMENTNO"&gt;
                    &lt;ItemTemplate&gt;
                        &lt;asp:TextBox ID="txtdocumentno" runat="server" Width="80px"&gt;&lt;/asp:TextBox&gt;
                    &lt;/ItemTemplate&gt;
                &lt;/asp:TemplateField&gt;
              &lt;asp:TemplateField HeaderText="UPLOAD DATE " ItemStyle-Wrap="true"&gt;
                    &lt;ItemTemplate&gt;
                        &lt;asp:TextBox ID="txtUploaddate" AutoPostBack="false" runat="server" MaxLength="10" Text='&lt;%# Bind("DOCUMENTUPLOADDATE") %&gt;'
                            Style="text-align: right;" Width="60px" Height="20" Enabled="true"&gt;&lt;/asp:TextBox&gt;
                        &lt;asp:ImageButton ID="imgPopupbankdate" ImageUrl="../images/calendar.png" ImageAlign="AbsMiddle"
                            runat="server" Height="24" /&gt;
                        &lt;ajaxToolkit:CalendarExtender ID="CalendarExtenderimgPopupbankdate" PopupButtonID="imgPopupbankdate"
                            runat="server" TargetControlID="txtUploaddate" CssClass="cal_Theme1" Format="dd/MM/yyyy"&gt;
                        &lt;/ajaxToolkit:CalendarExtender&gt;
                            &lt;/ItemTemplate&gt;
                      &lt;/asp:TemplateField&gt;


             &lt;asp:TemplateField&gt;  
                        &lt;HeaderStyle CssClass="hdrow" /&gt;  
                        &lt;HeaderTemplate&gt;  
                            &lt;asp:Label ID="lblfile" runat="server" Text="UPLOADFILE"&gt;&lt;/asp:Label&gt;  
                             &lt;asp:HiddenField ID="Hdn_filename" runat="server" /&gt;
                            &lt;asp:TextBox ID="txtUploadFile" runat="server" Enabled="false"  Text='&lt;%# Bind("FILENAME") %&gt;'/&gt;
                        &lt;/HeaderTemplate&gt;  

                         &lt;EditItemTemplate&gt;  
                                &lt;asp:FileUpload ID="fu1" runat="server" ImageUrl='&lt;%# ""+Eval("FILENAME") %&gt;'/&gt;  
                               &lt;asp:HiddenField ID="txtPageUrl" runat="server" /&gt;
                            &lt;/EditItemTemplate&gt;  
                        &lt;/asp:TemplateField&gt;  
                        &lt;asp:TemplateField&gt;  
                            &lt;HeaderStyle CssClass="hdrow" /&gt;  
                            &lt;ItemTemplate&gt;  
                                &lt;asp:Button ID="btnedit" runat="server" Text="Add" CommandName="Edit" /&gt;  
                            &lt;/ItemTemplate&gt;  
                            &lt;EditItemTemplate&gt;  
                                &lt;asp:Button ID="btnupdate" runat="server" Text="Submit" CommandName="Update" /&gt;  
                            &lt;/EditItemTemplate&gt;  
                        &lt;/asp:TemplateField&gt;  


                 &lt;asp:TemplateField HeaderText="DOCUMENT NAME"&gt;
                    &lt;ItemTemplate&gt;
                        &lt;asp:TextBox ID="txtdocumentname" runat="server" Width="80px"&gt;&lt;/asp:TextBox&gt;
                    &lt;/ItemTemplate&gt;
                &lt;/asp:TemplateField&gt;

                &lt;asp:TemplateField HeaderText="REMARKS"&gt;
                    &lt;ItemTemplate&gt;
                        &lt;asp:TextBox ID="txtRemarks" runat="server" Width="80px"&gt;&lt;/asp:TextBox&gt;
                    &lt;/ItemTemplate&gt;
                &lt;/asp:TemplateField&gt;
            &lt;/Columns&gt;
        &lt;/asp:GridView&gt;
    &lt;/div&gt;
</code></pre>

<p>and my .cs file is </p>

<p>protected void grvRedChampAttendance_RowUpdating(object sender, GridViewUpdateEventArgs e)
    {
        string desc = ((TextBox)(grvRedChampAttendance.Rows[e.RowIndex].FindControl("txtUploadFile"))).Text;
        int index = e.RowIndex;
        GridViewRow gvr = (GridViewRow)grvRedChampAttendance.Rows[index];
        Label lblfile = (Label)gvr.FindControl("lblfile");
        ClsUserMaster clsAtt = new ClsUserMaster();
        DataTable dtAtte = new DataTable();
        GridViewRow row = (GridViewRow)grvRedChampAttendance.Rows[index];
        FileUpload fu = (FileUpload)row.FindControl("fu1");
        string Filename = fu.FileName;
        string UploadfileName = DateTime.Now.ToString("yyyyMMdd_hhmmss") + '_' + Filename;
        desc = UploadfileName;
        if (fu.HasFile)
        {
           string file = Path.Combine(Server.MapPath("~/RedChamp/"), fu.FileName);
           fu.SaveAs(file);
           MessageBox1.ShowSuccess("File Save Sucessfully ");
        }
        grvRedChampAttendance.EditIndex = -1;
    }</p>

<p>I CAN NOT CAPTURE UPLOAD FILENAME IN desc ..PLEASE HELP ME...THANKS IN ADVANCE</p>
</code></pre><p>Posted by <a href='https://stackoverflow.com/users/10245633'>PRITAM BASU</a> (1) at 2019-02-22T14:05:21Z</p><p>Caught for</p>Contains Blacklisted Word - please help<br/>Low Length<br/>Contains Salutation - Thanks in Advance<br/>IntelliBL - -2.0<br/>Low Rep<br/></body></html>
